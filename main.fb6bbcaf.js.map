{"version":3,"sources":["js/ConnectFour.js","js/main.js","../node_modules/parcel/src/builtins/bundle-url.js","../node_modules/parcel/src/builtins/css-loader.js"],"names":["ConnectFour","selector","gameOver","playerTurn","cellOwners","lastMouseMove","updateTime","colourRed","colourYellow","colourBlue","colourBlank","media","window","matchMedia","rows","columns","aspectRatio","connect","canvas","document","getElementById","ctx","getContext","width","scrollWidth","height","scrollHeight","cellWidth","cellHeight","radius","radiusOutline","initialise","addEventListener","click","bind","matches","mouseMove","mouseOut","addListener","mediaChange","resizeGame","rowsArray","i","j","push","event","cell","getCell","offsetX","offsetY","drawGrid","Date","now","drawCellOutline","windowWidth","innerWidth","windowHeight","innerHeight","windowAspectRatio","removeEventListener","fillStyle","roundRect","x","y","beginPath","arc","Math","PI","fill","centerX","centerY","trunc","checkCell","stroke","moveTo","lineTo","quadraticCurveTo","closePath","console","log","connectFour","bundleURL","getBundleURLCached","getBundleURL","Error","err","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","split","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","querySelectorAll","length","module"],"mappings":"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","file":"main.fb6bbcaf.js","sourceRoot":"..\\src","sourcesContent":["export class ConnectFour {\r\n\tconstructor(selector) {\r\n\t\t// Game variables\r\n\t\tthis.gameOver = false;\r\n\t\tthis.playerTurn = 0;                // player 0 is red, player 1 is yellow\r\n\t\tthis.cellOwners = [];               // 2d array of who owns which cell. Columns then rows\r\n\t\tthis.lastMouseMove = 0;\t\t\t\t// timer used to keep track of refresh rate\r\n\t\tthis.updateTime = 60;               // how often mouseMovement can update in ms\r\n\r\n\t\t// Colours\r\n\t\tthis.colourRed = 'rgb(240, 41, 41)';\r\n\t\tthis.colourYellow = 'rgb(240, 232, 10)';\r\n\t\tthis.colourBlue = 'rgb(44, 173, 242)';\r\n\t\tthis.colourBlank = 'rgb(255, 255, 255)';\r\n\r\n\t\t// Hover support query\r\n\t\tthis.media = window.matchMedia('(hover: hover)');\r\n\r\n\t\t// Drawing variables\r\n\t\tthis.rows = 6;\r\n\t\tthis.columns = 7;\r\n\t\tthis.aspectRatio = this.columns / this.rows;\r\n\t\tthis.connect = 4;                                       // number of pucks needed to algin to win\r\n\r\n\t\tthis.canvas = document.getElementById(selector);        // the canvas element\r\n\t\tthis.ctx = this.canvas.getContext('2d');                // the canvas context\r\n\r\n\t\tthis.width = this.canvas.scrollWidth;                   // setting the canvas elements width to a variable\r\n\t\tthis.height = this.canvas.scrollHeight;                 // setting the canvas elements height to a variable\r\n\t\tthis.canvas.width = this.width;                         // set internal canvas width to the same as the canvas element\r\n\t\tthis.canvas.height = this.height;                       // set internal canvas height to the same as the canvas element\r\n\r\n\t\tthis.cellWidth = this.width / this.columns;\r\n\t\tthis.cellHeight = this.height / this.rows;\r\n\t\tthis.radius = this.cellWidth / 2.6;                     // sets raius for full circle that scales with canvas\r\n\t\tthis.radiusOutline = this.cellWidth / 3.6;\t\t\t\t// sets radius for circle outline that scales with canvas\r\n\r\n\t\tthis.initialise();\t\t// runs everything needed for startup\r\n\r\n\t\t// Event listeners\r\n\t\tthis.canvas.addEventListener('click', this.click.bind(this));\r\n\t\t// only add hover affect if device has support\r\n\t\tif (this.media.matches) {\r\n\t\t\tthis.canvas.addEventListener('mousemove', this.mouseMove.bind(this));\r\n\t\t\tthis.canvas.addEventListener('mouseout', this.mouseOut.bind(this), false);\r\n\t\t}\r\n\t\tthis.media.addListener(this.mediaChange.bind(this));\r\n\t\twindow.addEventListener('resize', this.resizeGame.bind(this), false);\r\n\t\twindow.addEventListener('orientationchange', this.resizeGame.bind(this), false);\r\n\t}\r\n\r\n\tinitialise() {\r\n\t\t// set all cell owners to null\r\n\t\tlet rowsArray = [];\r\n\t\tfor (let i = 0; i < this.columns; i++) {\r\n\t\t\tfor (let j = 0; j < this.rows; j++) {\r\n\t\t\t\trowsArray.push(null);\r\n\t\t\t}\r\n\t\t\tthis.cellOwners.push(rowsArray);\r\n\t\t\trowsArray = [];\r\n\t\t}\r\n\r\n\t\t// size the game\r\n\t\tthis.resizeGame();\r\n\t}\r\n\r\n\t// handles \r\n\tclick(event) {\r\n\t\t// find the next available cell in the column\r\n\t\tlet cell = this.getCell(event.offsetX, event.offsetY);\r\n\r\n\t\t// check if the column is full\r\n\t\tif (cell[1] == -1) {\r\n\t\t\t// if column is full don't do anything\r\n\t\t\treturn;\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// add cell to player owner\r\n\t\t\tthis.cellOwners[cell[0]][cell[1]] = this.playerTurn;\r\n\r\n\t\t\t// draw a new grid with a full circle for the available cell in the column\r\n\t\t\tthis.drawGrid();\r\n\r\n\t\t\t// toggle player turn\r\n\t\t\tthis.playerTurn ^= 1;\r\n\t\t}\r\n\t}\r\n\r\n\tmouseMove(event) {\r\n\t\t// limit mouseMove updates to 'updateTime'\r\n\t\tif (Date.now() - this.lastMouseMove > this.updateTime) {\r\n\t\t\t// find the next available cell in the column\r\n\t\t\tlet cell = this.getCell(event.offsetX, event.offsetY);\r\n\r\n\t\t\t// check if the column is full\r\n\t\t\tif (cell[1] == -1) {\r\n\t\t\t\t// if column is full redraw grid\r\n\t\t\t\tthis.drawGrid();\r\n\t\t\t} else {\r\n\t\t\t\t// redraw grid and then add highlighted celll\r\n\t\t\t\tthis.drawGrid();\r\n\t\t\t\tthis.drawCellOutline(cell);\r\n\t\t\t}\r\n\r\n\t\t\t// reset last mouse move\r\n\t\t\tthis.lastMouseMove = Date.now();\r\n\t\t}\r\n\t}\r\n\r\n\tmouseOut() {\r\n\t\t// redraw grid to remove highlighted cell if mouse moves out of canvas\r\n\t\tthis.drawGrid();\r\n\t}\r\n\r\n\tresizeGame() {\r\n\t\tlet windowWidth = window.innerWidth;\r\n\t\tlet windowHeight = window.innerHeight;\r\n\t\tlet windowAspectRatio = windowWidth / windowHeight;\r\n\r\n\t\t// check if the device is in portrain or landscape\r\n\t\tif (windowAspectRatio > this.aspectRatio) {\r\n\t\t\t// portrait\r\n\t\t\tthis.canvas.height = windowHeight;\r\n\t\t\tthis.canvas.width = this.aspectRatio * windowHeight;\r\n\r\n\t\t} else {\r\n\t\t\t// landscape\r\n\t\t\tthis.canvas.width = windowWidth;\r\n\t\t\tthis.canvas.height = windowWidth / this.aspectRatio;\r\n\t\t}\r\n\r\n\t\t// reset all drawing variables\r\n\t\tthis.width = this.canvas.scrollWidth;\r\n\t\tthis.height = this.canvas.scrollHeight;\r\n\t\tthis.canvas.width = this.width;\r\n\t\tthis.canvas.height = this.height;\r\n\r\n\t\tthis.cellWidth = this.width / this.columns;\r\n\t\tthis.cellHeight = this.height / this.rows;\r\n\t\tthis.radius = this.cellWidth / 2.6;\r\n\t\tthis.radiusOutline = this.cellWidth / 3.6;\r\n\r\n\t\t// redraw canvas\r\n\t\tthis.drawGrid();\r\n\t}\r\n\r\n\tmediaChange() {\r\n\t\tif (this.media.matches) {\r\n\t\t\t// if hover is supported on device add hover functionality\r\n\t\t\tthis.canvas.addEventListener('mousemove', this.mouseMove.bind(this));\r\n\t\t\tthis.canvas.addEventListener(\"mouseout\", this.mouseOut.bind(this));\r\n\t\t} else {\r\n\t\t\t// if hover is not supported on device remove hover functionality\r\n\t\t\tthis.canvas.removeEventListener('mousemove', this.mouseMove.bind(this));\r\n\t\t\tthis.canvas.addEventListener(\"mouseout\", this.mouseOut.bind(this));\r\n\t\t}\r\n\t}\r\n\r\n\tdrawGrid() {\r\n\t\t// create blue rounded rectange\r\n\t\tthis.ctx.fillStyle = this.colourBlue;\r\n\t\tthis.roundRect(this.ctx, 0, 0, this.width, this.height, this.radius, true, false)\r\n\r\n\t\t// create grid of holes\r\n\t\tlet x = this.cellWidth / 2;                 // sets the initial x center position of the first hole\r\n\t\tlet y = this.cellHeight / 2;                // sets the initial y center position of the first hole\r\n\t\tfor (let i = 0; i < this.columns; i++) {\r\n\t\t\tfor (let j = 0; j < this.rows; j++) {\r\n\t\t\t\t// check who owns the cell\r\n\t\t\t\tif (this.cellOwners[i][j] == 0) {\r\n\t\t\t\t\t// if player 0 owns the cell make it red\r\n\t\t\t\t\tthis.ctx.fillStyle = this.colourRed;\r\n\t\t\t\t} else if (this.cellOwners[i][j] == 1) {\r\n\t\t\t\t\t// if player 1 owns the cell make it yellow\r\n\t\t\t\t\tthis.ctx.fillStyle = this.colourYellow;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// if noone owns the cell make it white\r\n\t\t\t\t\tthis.ctx.fillStyle = this.colourBlank;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// draw the circle\r\n\t\t\t\tthis.ctx.beginPath();\r\n\t\t\t\tthis.ctx.arc(x, y, this.radius, 0, 2 * Math.PI);\r\n\t\t\t\tthis.ctx.fill();\r\n\r\n\t\t\t\t// increment the y position by a cell\r\n\t\t\t\ty = y + this.cellHeight;\r\n\t\t\t}\r\n\t\t\t// reset y position\r\n\t\t\ty = this.cellHeight / 2;\r\n\r\n\t\t\t// increment the x position by a cell\r\n\t\t\tx = x + this.cellWidth;\r\n\t\t}\r\n\t}\r\n\r\n\tdrawCellOutline(cell) {\r\n\t\tlet centerX = (cell[0] * this.cellWidth) + (this.cellWidth / 2);\r\n\t\tlet centerY = (cell[1] * this.cellHeight) + (this.cellHeight / 2);\r\n\r\n\t\t// get player colour\r\n\t\tif (this.playerTurn == 0) {\r\n\t\t\t// red player\r\n\t\t\tthis.ctx.fillStyle = this.colourRed;\r\n\t\t} else {\r\n\t\t\t// yellow player\r\n\t\t\tthis.ctx.fillStyle = this.colourYellow;\r\n\t\t}\r\n\r\n\t\t// draw player colour circle\r\n\t\tthis.ctx.beginPath();\r\n\t\tthis.ctx.arc(centerX, centerY, this.radius, 0, 2 * Math.PI);\r\n\t\tthis.ctx.fill();\r\n\r\n\t\t// fill the center with white to make outline\r\n\t\tthis.ctx.fillStyle = this.colourBlank;\r\n\t\tthis.ctx.beginPath();\r\n\t\tthis.ctx.arc(centerX, centerY, this.radiusOutline, 0, 2 * Math.PI);\r\n\t\tthis.ctx.fill();\r\n\t}\r\n\r\n\tcheckCell(x, y) {\r\n\t\tif (x == this.width) x--;       // handling edge case for when x = width\r\n\t\tif (y == this.height) y--;      // handling edge case for when y = height\r\n\t\treturn [Math.trunc(x / this.cellWidth), Math.trunc(y / this.cellHeight)];\r\n\t}\r\n\r\n\tgetCell(x, y) {\r\n\t\t// get cell from mouse click\r\n\t\tlet cell = this.checkCell(x, y);\r\n\r\n\t\t// find out which row is the bottom in the column and return that cell, -1 if full\r\n\t\tfor (let i = 0; i < this.rows; i++) {\r\n\t\t\tif (this.cellOwners[cell[0]][i] !== null) {\r\n\t\t\t\treturn [cell[0], i - 1];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn [cell[0], this.rows - 1];\r\n\t}\r\n\r\n\troundRect(ctx, x, y, width, height, radius = 5, fill, stroke = true) {\r\n\t\tctx.beginPath();\r\n\t\tctx.moveTo(x + radius, y);\r\n\t\tctx.lineTo(x + width - radius, y);\r\n\t\tctx.quadraticCurveTo(x + width, y, x + width, y + radius);\r\n\t\tctx.lineTo(x + width, y + height - radius);\r\n\t\tctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\r\n\t\tctx.lineTo(x + radius, y + height);\r\n\t\tctx.quadraticCurveTo(x, y + height, x, y + height - radius);\r\n\t\tctx.lineTo(x, y + radius);\r\n\t\tctx.quadraticCurveTo(x, y, x + radius, y);\r\n\t\tctx.closePath();\r\n\t\tif (fill) {\r\n\t\t\tctx.fill();\r\n\t\t}\r\n\t\tif (stroke) {\r\n\t\t\tctx.stroke();\r\n\t\t}\r\n\t}\r\n}","console.log('Kia Ora');\r\n\r\nimport '../css/style.scss';\r\nimport { ConnectFour } from './ConnectFour.js';\r\n\r\n\r\nconst connectFour = new ConnectFour('connect-four');\r\n\r\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}